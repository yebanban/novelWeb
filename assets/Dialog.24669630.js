import{d as f,r as v,E as y,D as _,G as V,o as g,y as k,p as n,a as m,m as s,l as i,h as d,t as B}from"./index.bf2b1302.js";const b={class:"dialog-footer"},E=i("\u53D6\u6D88"),D=i(" \u786E\u5B9A "),L=f({props:{modelValue:{type:Boolean},title:null,placeholder:null},emits:["update:modelValue","clickEnter"],setup(e,{emit:o}){const t=v(""),l=()=>{o("clickEnter",t.value),o("update:modelValue",!1),t.value=""};return(u,a)=>{const p=y,r=_,h=V;return g(),k(h,{modelValue:e.modelValue,"onUpdate:modelValue":a[2]||(a[2]=c=>o("update:modelValue",c)),title:e.title,width:"50%",draggable:""},{footer:n(()=>[m("span",b,[s(r,{onClick:a[1]||(a[1]=c=>{o("update:modelValue",!1),t.value=""})},{default:n(()=>[E]),_:1}),s(r,{type:"primary",disabled:!!/^\s*$/.test(t.value),onClick:l},{default:n(()=>[D]),_:1},8,["disabled"])])]),default:n(()=>[s(p,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c),placeholder:e.placeholder},null,8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])}}});function $(e){return d.request({url:"newBook",method:"post",data:e})}function w(){return d.request({url:"getbooks"})}function x(e){return d.request({url:`getChapters?id=${e.id}`})}function C(e){return d.request({url:"updateBookName",method:"post",data:e})}function T(e){return d.request({url:"deleteBook",method:"post",data:e})}var S={create:$,getAllBook:w,getChapters:x,updateBookName:C,deleteBook:T};const A=e=>e.replace(/^\s*(.+?)\s*$/,"$1"),U=e=>{e=A(e);let o=e.split(/[\s\n]+/),t=0;for(let l of o)l=l.replace(/[\x00-\xff]+/g,"m"),t+=l.length;return t},I=e=>{let o=/(?<=第)\d+(?=章)/.exec(e);return o?+o[0]:-1},X=()=>({scrollY:document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,scrollX:document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft}),Y=(e,o)=>{let t=!1;return function(...u){t||(t=!0,setTimeout(()=>{t=!1},o),e.apply(u))}},G=(e,o)=>{let t=null;return{fnDebounced:function(...l){t&&clearTimeout(t),t=setTimeout(()=>{e.apply(this,l)},o)},clearTime:function(){t&&clearTimeout(t)}}},q={class:"dialog-footer"},N=i("\u53D6\u6D88"),O=i("\u786E\u5B9A"),R=f({props:{modelValue:{type:Boolean},tips:null},emits:["update:modelValue","clickEnter"],setup(e,{emit:o}){const t=()=>{o("clickEnter"),o("update:modelValue",!1)};return(l,u)=>{const a=_,p=V;return g(),k(p,{modelValue:e.modelValue,"onUpdate:modelValue":u[1]||(u[1]=r=>o("update:modelValue",r)),title:"\u63D0\u793A",width:"50%",draggable:""},{footer:n(()=>[m("span",q,[s(a,{onClick:u[0]||(u[0]=r=>o("update:modelValue",!1))},{default:n(()=>[N]),_:1}),s(a,{type:"primary",onClick:t},{default:n(()=>[O]),_:1})])]),default:n(()=>[m("span",null,B(e.tips),1)]),_:1},8,["modelValue"])}}});export{R as _,L as a,S as b,U as c,G as d,X as e,I as g,A as r,Y as t};
